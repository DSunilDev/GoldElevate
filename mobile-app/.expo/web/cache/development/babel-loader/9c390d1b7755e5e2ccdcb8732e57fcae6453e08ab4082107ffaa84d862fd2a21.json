{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Toast from 'react-native-toast-message';\nexport var formatErrorMessage = function formatErrorMessage(error) {\n  var _error$message, _error$message2;\n  if (!error) return 'An unexpected error occurred';\n  if (error.code === 'ECONNABORTED' || (_error$message = error.message) != null && _error$message.includes('timeout')) {\n    return 'Connection timeout. Please check your internet connection.';\n  }\n  if (error.code === 'ENOTFOUND' || error.code === 'ECONNREFUSED' || (_error$message2 = error.message) != null && _error$message2.includes('Network')) {\n    return 'Cannot connect to server. Please check your network connection.';\n  }\n  if (error.response) {\n    var status = error.response.status;\n    var data = error.response.data;\n    switch (status) {\n      case 400:\n        return (data == null ? void 0 : data.message) || (data == null ? void 0 : data.error) || 'Invalid request. Please check your input.';\n      case 401:\n        return 'Session expired. Please login again.';\n      case 403:\n        return 'You do not have permission to perform this action.';\n      case 404:\n        return (data == null ? void 0 : data.message) || 'Resource not found.';\n      case 409:\n        return (data == null ? void 0 : data.message) || 'This record already exists.';\n      case 422:\n        return (data == null ? void 0 : data.message) || 'Validation failed. Please check your input.';\n      case 429:\n        return 'Too many requests. Please try again later.';\n      case 500:\n        return (data == null ? void 0 : data.message) || 'Server error. Please try again later or contact support.';\n      case 503:\n        return 'Service temporarily unavailable. Please try again later.';\n      default:\n        return (data == null ? void 0 : data.message) || (data == null ? void 0 : data.error) || `Error ${status}: ${error.message}`;\n    }\n  }\n  return error.message || 'An unexpected error occurred. Please try again.';\n};\nexport var showErrorToast = function showErrorToast(error) {\n  var customMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var message = customMessage || formatErrorMessage(error);\n  Toast.show({\n    type: 'error',\n    text1: 'Error',\n    text2: message,\n    visibilityTime: 5000,\n    topOffset: 60\n  });\n  console.error('Error:', error);\n};\nexport var showSuccessToast = function showSuccessToast(message) {\n  var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Success';\n  Toast.show({\n    type: 'success',\n    text1: title,\n    text2: message,\n    visibilityTime: 3000,\n    topOffset: 60\n  });\n};\nexport var showInfoToast = function showInfoToast(message) {\n  var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Info';\n  Toast.show({\n    type: 'info',\n    text1: title,\n    text2: message,\n    visibilityTime: 3000,\n    topOffset: 60\n  });\n};\nexport var safeAsync = function () {\n  var _ref = _asyncToGenerator(function* (asyncFn) {\n    var errorHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    try {\n      return yield asyncFn();\n    } catch (error) {\n      if (errorHandler) {\n        errorHandler(error);\n      } else {\n        showErrorToast(error);\n      }\n      throw error;\n    }\n  });\n  return function safeAsync(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["Toast","formatErrorMessage","error","_error$message","_error$message2","code","message","includes","response","status","data","showErrorToast","customMessage","arguments","length","undefined","show","type","text1","text2","visibilityTime","topOffset","console","showSuccessToast","title","showInfoToast","safeAsync","_ref","_asyncToGenerator","asyncFn","errorHandler","_x","apply"],"sources":["/Users/sunilkumar/Downloads/mobile-app-package/mobile-app/src/utils/errorHandler.js"],"sourcesContent":["/**\n * Comprehensive Error Handler for React Native App\n * Provides consistent error handling with toast notifications\n */\n\nimport Toast from 'react-native-toast-message';\n\n/**\n * Format error message for user display\n */\nexport const formatErrorMessage = (error) => {\n  if (!error) return 'An unexpected error occurred';\n\n  // Handle network errors\n  if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n    return 'Connection timeout. Please check your internet connection.';\n  }\n\n  if (error.code === 'ENOTFOUND' || error.code === 'ECONNREFUSED' || error.message?.includes('Network')) {\n    return 'Cannot connect to server. Please check your network connection.';\n  }\n\n  // Handle API errors\n  if (error.response) {\n    const status = error.response.status;\n    const data = error.response.data;\n\n    switch (status) {\n      case 400:\n        return data?.message || data?.error || 'Invalid request. Please check your input.';\n      case 401:\n        return 'Session expired. Please login again.';\n      case 403:\n        return 'You do not have permission to perform this action.';\n      case 404:\n        return data?.message || 'Resource not found.';\n      case 409:\n        return data?.message || 'This record already exists.';\n      case 422:\n        return data?.message || 'Validation failed. Please check your input.';\n      case 429:\n        return 'Too many requests. Please try again later.';\n      case 500:\n        return data?.message || 'Server error. Please try again later or contact support.';\n      case 503:\n        return 'Service temporarily unavailable. Please try again later.';\n      default:\n        return data?.message || data?.error || `Error ${status}: ${error.message}`;\n    }\n  }\n\n  // Generic error\n  return error.message || 'An unexpected error occurred. Please try again.';\n};\n\n/**\n * Show error toast notification\n */\nexport const showErrorToast = (error, customMessage = null) => {\n  const message = customMessage || formatErrorMessage(error);\n  Toast.show({\n    type: 'error',\n    text1: 'Error',\n    text2: message,\n    visibilityTime: 5000,\n    topOffset: 60,\n  });\n  console.error('Error:', error);\n};\n\n/**\n * Show success toast notification\n */\nexport const showSuccessToast = (message, title = 'Success') => {\n  Toast.show({\n    type: 'success',\n    text1: title,\n    text2: message,\n    visibilityTime: 3000,\n    topOffset: 60,\n  });\n};\n\n/**\n * Show info toast notification\n */\nexport const showInfoToast = (message, title = 'Info') => {\n  Toast.show({\n    type: 'info',\n    text1: title,\n    text2: message,\n    visibilityTime: 3000,\n    topOffset: 60,\n  });\n};\n\n/**\n * Safe async function wrapper with error handling\n */\nexport const safeAsync = async (asyncFn, errorHandler = null) => {\n  try {\n    return await asyncFn();\n  } catch (error) {\n    if (errorHandler) {\n      errorHandler(error);\n    } else {\n      showErrorToast(error);\n    }\n    throw error; // Re-throw for caller to handle if needed\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}