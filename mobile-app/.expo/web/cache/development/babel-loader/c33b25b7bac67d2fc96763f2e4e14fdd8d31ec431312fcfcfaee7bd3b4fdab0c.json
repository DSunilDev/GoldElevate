{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/sunilkumar/Downloads/mobile-app-package/mobile-app/src/screens/SignupScreen.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { MaterialIcons as Icon } from '@expo/vector-icons';\nimport { useAuth } from \"../context/AuthContext\";\nimport Toast from 'react-native-toast-message';\nimport { authAPI } from \"../config/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SignupScreen() {\n  var navigation = useNavigation();\n  var route = useRoute();\n  var _useAuth = useAuth(),\n    signup = _useAuth.signup;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    phoneNumber = _useState2[0],\n    setPhoneNumber = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showOtpWidget = _useState6[0],\n    setShowOtpWidget = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    otpVerified = _useState8[0],\n    setOtpVerified = _useState8[1];\n  var _useState9 = useState(null),\n    _useState0 = _slicedToArray(_useState9, 2),\n    otpToken = _useState0[0],\n    setOtpToken = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    otpCode = _useState10[0],\n    setOtpCode = _useState10[1];\n  var handleSendOTP = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var phoneRegex = /^[6-9]\\d{9}$/;\n      if (!phoneNumber || !phoneRegex.test(phoneNumber)) {\n        Toast.show({\n          type: 'error',\n          text1: 'Invalid Phone Number',\n          text2: 'Please enter a valid 10-digit phone number'\n        });\n        return;\n      }\n      setLoading(true);\n      setOtpCode('');\n      try {\n        var response = yield authAPI.sendOTP({\n          phone: phoneNumber\n        });\n        if (response.data.success) {\n          setShowOtpWidget(true);\n          if (response.data.otp) {\n            Toast.show({\n              type: 'info',\n              text1: 'OTP Generated',\n              text2: `Enter OTP: ${response.data.otp}`,\n              visibilityTime: 10000\n            });\n            console.log('ðŸ”‘ OTP for manual entry:', response.data.otp);\n          }\n          Toast.show({\n            type: 'success',\n            text1: 'OTP Generated',\n            text2: 'Please enter the OTP'\n          });\n        }\n      } catch (error) {\n        var _error$response, _error$response$data, _error$response2, _error$response2$data;\n        console.error('Send OTP error:', error);\n        var errorMsg = ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || error.message || 'Failed to send OTP';\n        if (errorMsg.includes('already registered') || errorMsg.includes('already exists') || errorMsg.includes('Phone number already')) {\n          Toast.show({\n            type: 'error',\n            text1: 'Phone Already Registered',\n            text2: 'This phone number is already registered. Please sign in instead.',\n            visibilityTime: 5000\n          });\n          setShowOtpWidget(false);\n        } else {\n          setShowOtpWidget(true);\n          Toast.show({\n            type: 'error',\n            text1: 'Error',\n            text2: errorMsg\n          });\n        }\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSendOTP() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleManualOTPVerify = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!otpCode || otpCode.length < 4) {\n        Toast.show({\n          type: 'error',\n          text1: 'Invalid OTP',\n          text2: 'Please enter a valid OTP code (4-6 digits)'\n        });\n        return;\n      }\n      setLoading(true);\n      try {\n        console.log('Verifying OTP:', {\n          phone: phoneNumber,\n          otp: otpCode\n        });\n        var verifyResponse = yield authAPI.verifyOTP({\n          phone: phoneNumber,\n          otp: otpCode.trim()\n        });\n        console.log('Verify response:', verifyResponse.data);\n        if (verifyResponse.data.success) {\n          var _route$params, _route$params2, _route$params3;\n          setOtpVerified(true);\n          setShowOtpWidget(false);\n          yield new Promise(function (resolve) {\n            return setTimeout(resolve, 500);\n          });\n          var signupData = {\n            phone: phoneNumber\n          };\n          if ((_route$params = route.params) != null && _route$params.packageId) {\n            signupData.packageid = route.params.packageId;\n          }\n          if ((_route$params2 = route.params) != null && _route$params2.sponsorid || (_route$params3 = route.params) != null && _route$params3.ref) {\n            signupData.sponsorid = route.params.sponsorid || route.params.ref;\n          }\n          console.log('Calling signup with:', signupData);\n          var result = yield signup(signupData);\n          console.log('Signup result:', result);\n          if (result.success) {\n            Toast.show({\n              type: 'success',\n              text1: 'Success',\n              text2: 'Account created successfully!'\n            });\n          } else {\n            Toast.show({\n              type: 'error',\n              text1: 'Signup Failed',\n              text2: result.error || 'Please try again'\n            });\n            setOtpVerified(false);\n          }\n        } else {\n          if (verifyResponse.data.ipBlocked) {\n            Toast.show({\n              type: 'error',\n              text1: 'IP Blocked',\n              text2: 'Please contact support or try from a different network'\n            });\n          } else {\n            Toast.show({\n              type: 'error',\n              text1: 'Invalid OTP',\n              text2: verifyResponse.data.message || 'Please enter the correct OTP'\n            });\n          }\n        }\n      } catch (error) {\n        var _error$response3, _error$response3$data, _error$response4;\n        console.error('OTP verification error:', error);\n        var errorMsg = ((_error$response3 = error.response) == null ? void 0 : (_error$response3$data = _error$response3.data) == null ? void 0 : _error$response3$data.message) || error.message || 'Please try again';\n        if ((_error$response4 = error.response) != null && _error$response4.data) {\n          console.error('Error details:', error.response.data);\n        }\n        if (errorMsg.includes('IP') || errorMsg.includes('blocked')) {\n          Toast.show({\n            type: 'error',\n            text1: 'IP Blocked',\n            text2: 'Please contact support'\n          });\n        } else if (errorMsg.includes('not found') || errorMsg.includes('expired')) {\n          Toast.show({\n            type: 'error',\n            text1: 'OTP Expired',\n            text2: 'Please request a new OTP'\n          });\n          setTimeout(function () {\n            handleSendOTP();\n          }, 1000);\n        } else {\n          Toast.show({\n            type: 'error',\n            text1: 'Verification Failed',\n            text2: errorMsg\n          });\n        }\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleManualOTPVerify() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleVerifyAndCreateAccount = function () {\n    var _ref3 = _asyncToGenerator(function* (token) {\n      setLoading(true);\n      try {\n        var verifyResponse = yield authAPI.verifyOTP({\n          phone: phoneNumber,\n          token: token\n        });\n        if (verifyResponse.data.success) {\n          var _route$params4;\n          setShowOtpWidget(false);\n          var signupData = {\n            phone: phoneNumber\n          };\n          if ((_route$params4 = route.params) != null && _route$params4.packageId) {\n            signupData.packageid = route.params.packageId;\n          }\n          var result = yield signup(signupData);\n          if (result.success) {\n            Toast.show({\n              type: 'success',\n              text1: 'Success',\n              text2: 'Account created successfully!'\n            });\n          } else {\n            Toast.show({\n              type: 'error',\n              text1: 'Signup Failed',\n              text2: result.error || 'Please try again'\n            });\n            setOtpVerified(false);\n            setOtpToken(null);\n          }\n        } else {\n          Toast.show({\n            type: 'error',\n            text1: 'Verification Failed',\n            text2: verifyResponse.data.message || 'Please try again'\n          });\n          setOtpVerified(false);\n          setOtpToken(null);\n        }\n      } catch (error) {\n        var _error$response5, _error$response5$data;\n        Toast.show({\n          type: 'error',\n          text1: 'Verification Failed',\n          text2: ((_error$response5 = error.response) == null ? void 0 : (_error$response5$data = _error$response5.data) == null ? void 0 : _error$response5$data.message) || 'Please try again'\n        });\n        setOtpVerified(false);\n        setOtpToken(null);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleVerifyAndCreateAccount(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxDEV(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    style: styles.container,\n    children: [_jsxDEV(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      children: [_jsxDEV(LinearGradient, {\n        colors: ['#D4AF37', '#B8941F'],\n        style: styles.header,\n        children: [_jsxDEV(TouchableOpacity, {\n          style: styles.backButton,\n          onPress: function onPress() {\n            return navigation.goBack();\n          },\n          children: _jsxDEV(Icon, {\n            name: \"arrow-back\",\n            size: 24,\n            color: \"#fff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.headerIcon,\n          children: \"\\uD83D\\uDC64\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.headerTitle,\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.headerSubtitle,\n          children: \"Start your investment journey\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.formContainer,\n        children: [!showOtpWidget ? _jsxDEV(_Fragment, {\n          children: [_jsxDEV(Text, {\n            style: styles.formTitle,\n            children: \"Enter Your Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            style: styles.formSubtitle,\n            children: \"We'll send you an OTP to verify your number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), _jsxDEV(View, {\n            style: styles.inputGroup,\n            children: [_jsxDEV(Icon, {\n              name: \"phone\",\n              size: 20,\n              color: \"#666\",\n              style: styles.inputIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), _jsxDEV(TextInput, {\n              style: styles.input,\n              placeholder: \"Phone Number\",\n              value: phoneNumber,\n              onChangeText: function onChangeText(text) {\n                return setPhoneNumber(text.replace(/[^0-9]/g, ''));\n              },\n              keyboardType: \"phone-pad\",\n              maxLength: 10,\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.button, (loading || phoneNumber.length !== 10) && styles.buttonDisabled],\n            onPress: handleSendOTP,\n            disabled: loading || phoneNumber.length !== 10,\n            children: _jsxDEV(Text, {\n              style: styles.buttonText,\n              children: loading ? 'Processing...' : 'Send OTP'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : otpVerified ? _jsxDEV(View, {\n          style: styles.successContainer,\n          children: [_jsxDEV(Icon, {\n            name: \"check-circle\",\n            size: 64,\n            color: \"#4CAF50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            style: styles.successText,\n            children: \"Phone Verified!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            style: styles.successSubtext,\n            children: \"Creating your account...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this) : null, _jsxDEV(TouchableOpacity, {\n          style: styles.linkButton,\n          onPress: function onPress() {\n            return navigation.navigate('Login');\n          },\n          children: _jsxDEV(Text, {\n            style: styles.linkText,\n            children: [\"Already have an account? \", _jsxDEV(Text, {\n              style: styles.linkTextBold,\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), _jsxDEV(Modal, {\n      visible: showOtpWidget && !otpVerified,\n      animationType: \"slide\",\n      transparent: true,\n      onRequestClose: function onRequestClose() {\n        if (!loading) {\n          setShowOtpWidget(false);\n        }\n      },\n      children: _jsxDEV(View, {\n        style: styles.modalContainer,\n        children: _jsxDEV(View, {\n          style: styles.modalContent,\n          children: [_jsxDEV(TouchableOpacity, {\n            style: styles.closeButton,\n            onPress: function onPress() {\n              if (!loading) {\n                setShowOtpWidget(false);\n              }\n            },\n            disabled: loading,\n            children: _jsxDEV(Icon, {\n              name: \"close\",\n              size: 24,\n              color: \"#333\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.modalTitle,\n            children: \"Verify OTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.modalSubtitle,\n            children: [\"Enter the OTP sent to \", phoneNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.manualOtpContainer,\n            children: [_jsxDEV(View, {\n              style: styles.inputGroup,\n              children: [_jsxDEV(Icon, {\n                name: \"lock\",\n                size: 20,\n                color: \"#666\",\n                style: styles.inputIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), _jsxDEV(TextInput, {\n                style: styles.input,\n                placeholder: \"Enter 6-digit OTP\",\n                value: otpCode,\n                onChangeText: function onChangeText(text) {\n                  return setOtpCode(text.replace(/[^0-9]/g, ''));\n                },\n                keyboardType: \"number-pad\",\n                maxLength: 6,\n                autoFocus: true,\n                placeholderTextColor: \"#999\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), __DEV__ && _jsxDEV(Text, {\n              style: styles.otpHint,\n              children: \"\\uD83D\\uDCA1 Check backend terminal/console for OTP code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: [styles.button, (loading || otpCode.length < 4) && styles.buttonDisabled],\n              onPress: handleManualOTPVerify,\n              disabled: loading || otpCode.length < 4,\n              children: _jsxDEV(Text, {\n                style: styles.buttonText,\n                children: loading ? 'Verifying...' : 'Verify OTP'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: styles.resendButton,\n              onPress: handleSendOTP,\n              disabled: loading,\n              children: _jsxDEV(Text, {\n                style: styles.resendText,\n                children: [\"Didn't receive? \", _jsxDEV(Text, {\n                  style: styles.resendTextBold,\n                  children: \"Resend OTP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  header: {\n    padding: 24,\n    paddingTop: 50,\n    borderBottomLeftRadius: 30,\n    borderBottomRightRadius: 30,\n    alignItems: 'center'\n  },\n  backButton: {\n    position: 'absolute',\n    top: 50,\n    left: 20,\n    padding: 8,\n    backgroundColor: 'rgba(255,255,255,0.9)',\n    borderRadius: 20\n  },\n  headerIcon: {\n    fontSize: 48,\n    marginBottom: 12\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#fff',\n    marginBottom: 4\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: '#fff',\n    opacity: 0.9\n  },\n  formContainer: {\n    flex: 1,\n    padding: 24,\n    marginTop: 20\n  },\n  formTitle: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#333',\n    marginBottom: 8\n  },\n  formSubtitle: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 24\n  },\n  inputGroup: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: '#dee2e6',\n    marginBottom: 16,\n    paddingHorizontal: 16\n  },\n  inputIcon: {\n    marginRight: 12\n  },\n  input: {\n    flex: 1,\n    paddingVertical: 14,\n    fontSize: 16\n  },\n  button: {\n    backgroundColor: '#D4AF37',\n    padding: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n    marginTop: 8\n  },\n  buttonDisabled: {\n    opacity: 0.6\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 18,\n    fontWeight: '700'\n  },\n  resendButton: {\n    marginTop: 16,\n    alignItems: 'center'\n  },\n  resendText: {\n    fontSize: 14,\n    color: '#666'\n  },\n  resendTextBold: {\n    color: '#D4AF37',\n    fontWeight: '700'\n  },\n  successContainer: {\n    alignItems: 'center',\n    paddingVertical: 40\n  },\n  successText: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#4CAF50',\n    marginTop: 16\n  },\n  successSubtext: {\n    fontSize: 14,\n    color: '#666',\n    marginTop: 8\n  },\n  linkButton: {\n    marginTop: 24,\n    alignItems: 'center'\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#666'\n  },\n  linkTextBold: {\n    color: '#D4AF37',\n    fontWeight: '700'\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  modalContent: {\n    backgroundColor: '#fff',\n    borderRadius: 20,\n    padding: 24,\n    width: '90%',\n    maxHeight: '80%'\n  },\n  closeButton: {\n    alignSelf: 'flex-end',\n    padding: 8\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#333',\n    marginBottom: 8\n  },\n  modalSubtitle: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 20\n  },\n  webView: {\n    width: '100%',\n    height: 300,\n    borderRadius: 12\n  },\n  webViewContainer: {\n    width: '100%',\n    height: 300,\n    borderRadius: 12,\n    overflow: 'hidden'\n  },\n  widgetPlaceholder: {\n    padding: 40,\n    alignItems: 'center'\n  },\n  placeholderText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 8\n  },\n  placeholderSubtext: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center'\n  },\n  manualOtpContainer: {\n    width: '100%',\n    paddingVertical: 20\n  },\n  errorBanner: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#ffebee',\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 16\n  },\n  errorText: {\n    color: '#f44336',\n    fontSize: 14,\n    marginLeft: 8,\n    flex: 1\n  },\n  otpHint: {\n    fontSize: 12,\n    color: '#666',\n    textAlign: 'center',\n    marginTop: 8,\n    marginBottom: 16,\n    fontStyle: 'italic'\n  },\n  switchButton: {\n    marginTop: 16,\n    padding: 12,\n    alignItems: 'center'\n  },\n  switchButtonText: {\n    color: '#D4AF37',\n    fontSize: 14,\n    fontWeight: '600'\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","TextInput","TouchableOpacity","StyleSheet","ScrollView","KeyboardAvoidingView","Platform","Modal","useNavigation","useRoute","LinearGradient","MaterialIcons","Icon","useAuth","Toast","authAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","SignupScreen","navigation","route","_useAuth","signup","_useState","_useState2","_slicedToArray","phoneNumber","setPhoneNumber","_useState3","_useState4","loading","setLoading","_useState5","_useState6","showOtpWidget","setShowOtpWidget","_useState7","_useState8","otpVerified","setOtpVerified","_useState9","_useState0","otpToken","setOtpToken","_useState1","_useState10","otpCode","setOtpCode","handleSendOTP","_ref","_asyncToGenerator","phoneRegex","test","show","type","text1","text2","response","sendOTP","phone","data","success","otp","visibilityTime","console","log","error","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMsg","message","includes","apply","arguments","handleManualOTPVerify","_ref2","length","verifyResponse","verifyOTP","trim","_route$params","_route$params2","_route$params3","Promise","resolve","setTimeout","signupData","params","packageId","packageid","sponsorid","ref","result","ipBlocked","_error$response3","_error$response3$data","_error$response4","handleVerifyAndCreateAccount","_ref3","token","_route$params4","_error$response5","_error$response5$data","_x","behavior","OS","style","styles","container","children","showsVerticalScrollIndicator","colors","header","backButton","onPress","goBack","name","size","color","fileName","_jsxFileName","lineNumber","columnNumber","headerIcon","headerTitle","headerSubtitle","formContainer","formTitle","formSubtitle","inputGroup","inputIcon","input","placeholder","value","onChangeText","text","replace","keyboardType","maxLength","autoFocus","button","buttonDisabled","disabled","buttonText","successContainer","successText","successSubtext","linkButton","navigate","linkText","linkTextBold","visible","animationType","transparent","onRequestClose","modalContainer","modalContent","closeButton","modalTitle","modalSubtitle","manualOtpContainer","placeholderTextColor","__DEV__","otpHint","resendButton","resendText","resendTextBold","create","flex","backgroundColor","padding","paddingTop","borderBottomLeftRadius","borderBottomRightRadius","alignItems","position","top","left","borderRadius","fontSize","marginBottom","fontWeight","opacity","marginTop","flexDirection","borderWidth","borderColor","paddingHorizontal","marginRight","paddingVertical","justifyContent","width","maxHeight","alignSelf","webView","height","webViewContainer","overflow","widgetPlaceholder","placeholderText","placeholderSubtext","textAlign","errorBanner","errorText","marginLeft","fontStyle","switchButton","switchButtonText"],"sources":["/Users/sunilkumar/Downloads/mobile-app-package/mobile-app/src/screens/SignupScreen.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  ScrollView,\n  KeyboardAvoidingView,\n  Platform,\n  Modal,\n} from 'react-native';\n// WebView removed - using manual OTP only\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { MaterialIcons as Icon } from '@expo/vector-icons';\nimport { useAuth } from '../context/AuthContext';\nimport Toast from 'react-native-toast-message';\nimport { authAPI } from '../config/api';\n\nexport default function SignupScreen() {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { signup } = useAuth();\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showOtpWidget, setShowOtpWidget] = useState(false);\n  const [otpVerified, setOtpVerified] = useState(false);\n  const [otpToken, setOtpToken] = useState(null);\n  const [otpCode, setOtpCode] = useState('');\n  // MSG91 widget removed - using manual OTP only\n\n  const handleSendOTP = async () => {\n    // Validate phone number\n    const phoneRegex = /^[6-9]\\d{9}$/; // Indian phone number format\n    if (!phoneNumber || !phoneRegex.test(phoneNumber)) {\n      Toast.show({\n        type: 'error',\n        text1: 'Invalid Phone Number',\n        text2: 'Please enter a valid 10-digit phone number',\n      });\n      return;\n    }\n\n    setLoading(true);\n    setOtpCode(''); // Clear previous OTP\n    try {\n      // Validate phone with backend first (this generates OTP for manual fallback)\n      const response = await authAPI.sendOTP({ phone: phoneNumber });\n      if (response.data.success) {\n        setShowOtpWidget(true);\n        // Show OTP to user (for testing - remove in production)\n        if (response.data.otp) {\n          Toast.show({\n            type: 'info',\n            text1: 'OTP Generated',\n            text2: `Enter OTP: ${response.data.otp}`,\n            visibilityTime: 10000,\n          });\n          console.log('ðŸ”‘ OTP for manual entry:', response.data.otp);\n        }\n        Toast.show({\n          type: 'success',\n          text1: 'OTP Generated',\n          text2: 'Please enter the OTP',\n        });\n      }\n    } catch (error) {\n      console.error('Send OTP error:', error);\n      const errorMsg = error.response?.data?.message || error.response?.data?.error || error.message || 'Failed to send OTP';\n      \n      // If phone already exists, show specific message and don't show OTP modal\n      if (errorMsg.includes('already registered') || errorMsg.includes('already exists') || errorMsg.includes('Phone number already')) {\n        Toast.show({\n          type: 'error',\n          text1: 'Phone Already Registered',\n          text2: 'This phone number is already registered. Please sign in instead.',\n          visibilityTime: 5000,\n        });\n        setShowOtpWidget(false);\n      } else {\n        // If backend fails, still show OTP modal for manual entry\n        setShowOtpWidget(true);\n        Toast.show({\n          type: 'error',\n          text1: 'Error',\n          text2: errorMsg,\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Manual OTP verification (fallback)\n  const handleManualOTPVerify = async () => {\n    if (!otpCode || otpCode.length < 4) {\n      Toast.show({\n        type: 'error',\n        text1: 'Invalid OTP',\n        text2: 'Please enter a valid OTP code (4-6 digits)',\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      console.log('Verifying OTP:', { phone: phoneNumber, otp: otpCode });\n      \n      // For manual OTP, verify via backend using OTP code\n      const verifyResponse = await authAPI.verifyOTP({ \n        phone: phoneNumber,\n        otp: otpCode.trim() // Using OTP code directly (not token), trim whitespace\n      });\n\n      console.log('Verify response:', verifyResponse.data);\n\n      if (verifyResponse.data.success) {\n        setOtpVerified(true);\n        setShowOtpWidget(false);\n        \n        // Wait a moment to ensure OTP store is updated on backend\n        // Increased delay to ensure backend has processed the verification\n        await new Promise(resolve => setTimeout(resolve, 500));\n        \n        // Create account after OTP verification\n        const signupData = {\n          phone: phoneNumber,\n        };\n        // Only include packageid if it's provided and valid\n        if (route.params?.packageId) {\n          signupData.packageid = route.params.packageId;\n        }\n        // Handle referral link (sponsorid)\n        if (route.params?.sponsorid || route.params?.ref) {\n          signupData.sponsorid = route.params.sponsorid || route.params.ref;\n        }\n        console.log('Calling signup with:', signupData);\n        const result = await signup(signupData);\n\n        console.log('Signup result:', result);\n\n        if (result.success) {\n          Toast.show({\n            type: 'success',\n            text1: 'Success',\n            text2: 'Account created successfully!',\n          });\n          \n          // Navigation will be handled by AuthNavigator based on auth state\n          // User is now authenticated, so they'll be redirected to MemberTabs\n          // They can navigate to PaymentScreen from Packages tab if they selected a package\n        } else {\n          Toast.show({\n            type: 'error',\n            text1: 'Signup Failed',\n            text2: result.error || 'Please try again',\n          });\n          setOtpVerified(false);\n        }\n      } else {\n        // Check if IP blocked error\n        if (verifyResponse.data.ipBlocked) {\n          Toast.show({\n            type: 'error',\n            text1: 'IP Blocked',\n            text2: 'Please contact support or try from a different network',\n          });\n        } else {\n          Toast.show({\n            type: 'error',\n            text1: 'Invalid OTP',\n            text2: verifyResponse.data.message || 'Please enter the correct OTP',\n          });\n        }\n      }\n    } catch (error) {\n      console.error('OTP verification error:', error);\n      const errorMsg = error.response?.data?.message || error.message || 'Please try again';\n      \n      // Log full error for debugging\n      if (error.response?.data) {\n        console.error('Error details:', error.response.data);\n      }\n      \n      if (errorMsg.includes('IP') || errorMsg.includes('blocked')) {\n        Toast.show({\n          type: 'error',\n          text1: 'IP Blocked',\n          text2: 'Please contact support',\n        });\n      } else if (errorMsg.includes('not found') || errorMsg.includes('expired')) {\n        Toast.show({\n          type: 'error',\n          text1: 'OTP Expired',\n          text2: 'Please request a new OTP',\n        });\n        // Auto-resend OTP\n        setTimeout(() => {\n          handleSendOTP();\n        }, 1000);\n      } else {\n        Toast.show({\n          type: 'error',\n          text1: 'Verification Failed',\n          text2: errorMsg,\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // MSG91 widget handlers removed - using manual OTP only\n\n  const handleVerifyAndCreateAccount = async (token) => {\n    setLoading(true);\n    try {\n      // Verify OTP token on backend\n      const verifyResponse = await authAPI.verifyOTP({ \n        phone: phoneNumber,\n        token: token\n      });\n\n      if (verifyResponse.data.success) {\n        // OTP verified - now create account\n        setShowOtpWidget(false);\n        \n        const signupData = {\n          phone: phoneNumber,\n        };\n        // Only include packageid if it's provided and valid\n        if (route.params?.packageId) {\n          signupData.packageid = route.params.packageId;\n        }\n        const result = await signup(signupData);\n\n        if (result.success) {\n          Toast.show({\n            type: 'success',\n            text1: 'Success',\n            text2: 'Account created successfully!',\n          });\n          // Navigation handled by AuthContext\n        } else {\n          Toast.show({\n            type: 'error',\n            text1: 'Signup Failed',\n            text2: result.error || 'Please try again',\n          });\n          setOtpVerified(false);\n          setOtpToken(null);\n        }\n      } else {\n        Toast.show({\n          type: 'error',\n          text1: 'Verification Failed',\n          text2: verifyResponse.data.message || 'Please try again',\n        });\n        setOtpVerified(false);\n        setOtpToken(null);\n      }\n    } catch (error) {\n      Toast.show({\n        type: 'error',\n        text1: 'Verification Failed',\n        text2: error.response?.data?.message || 'Please try again',\n      });\n      setOtpVerified(false);\n      setOtpToken(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // MSG91 widget functions removed - using manual OTP only\n  // All widget-related code has been removed to prevent errors\n\n  // MSG91 widget removed - using manual OTP only\n  // Widget causes errors and doesn't work reliably on web\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      style={styles.container}\n    >\n      <ScrollView showsVerticalScrollIndicator={false}>\n        <LinearGradient\n          colors={['#D4AF37', '#B8941F']}\n          style={styles.header}\n        >\n          <TouchableOpacity\n            style={styles.backButton}\n            onPress={() => navigation.goBack()}\n          >\n            <Icon name=\"arrow-back\" size={24} color=\"#fff\" />\n          </TouchableOpacity>\n          <Text style={styles.headerIcon}>ðŸ‘¤</Text>\n          <Text style={styles.headerTitle}>Create Account</Text>\n          <Text style={styles.headerSubtitle}>Start your investment journey</Text>\n        </LinearGradient>\n\n        <View style={styles.formContainer}>\n          {!showOtpWidget ? (\n            <>\n              <Text style={styles.formTitle}>Enter Your Phone Number</Text>\n              <Text style={styles.formSubtitle}>\n                We'll send you an OTP to verify your number\n              </Text>\n\n              <View style={styles.inputGroup}>\n                <Icon name=\"phone\" size={20} color=\"#666\" style={styles.inputIcon} />\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"Phone Number\"\n                  value={phoneNumber}\n                  onChangeText={(text) => setPhoneNumber(text.replace(/[^0-9]/g, ''))}\n                  keyboardType=\"phone-pad\"\n                  maxLength={10}\n                  autoFocus\n                />\n              </View>\n\n              <TouchableOpacity\n                style={[styles.button, (loading || phoneNumber.length !== 10) && styles.buttonDisabled]}\n                onPress={handleSendOTP}\n                disabled={loading || phoneNumber.length !== 10}\n              >\n                <Text style={styles.buttonText}>\n                  {loading ? 'Processing...' : 'Send OTP'}\n                </Text>\n              </TouchableOpacity>\n            </>\n          ) : otpVerified ? (\n            <View style={styles.successContainer}>\n              <Icon name=\"check-circle\" size={64} color=\"#4CAF50\" />\n              <Text style={styles.successText}>Phone Verified!</Text>\n              <Text style={styles.successSubtext}>Creating your account...</Text>\n            </View>\n          ) : null}\n\n          <TouchableOpacity\n            style={styles.linkButton}\n            onPress={() => navigation.navigate('Login')}\n          >\n            <Text style={styles.linkText}>\n              Already have an account? <Text style={styles.linkTextBold}>Sign In</Text>\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n\n      {/* MSG91 OTP Widget Modal */}\n      <Modal\n        visible={showOtpWidget && !otpVerified}\n        animationType=\"slide\"\n        transparent={true}\n        onRequestClose={() => {\n          if (!loading) {\n            setShowOtpWidget(false);\n          }\n        }}\n      >\n        <View style={styles.modalContainer}>\n          <View style={styles.modalContent}>\n            <TouchableOpacity\n              style={styles.closeButton}\n              onPress={() => {\n                if (!loading) {\n                  setShowOtpWidget(false);\n                }\n              }}\n              disabled={loading}\n            >\n              <Icon name=\"close\" size={24} color=\"#333\" />\n            </TouchableOpacity>\n            \n            <Text style={styles.modalTitle}>Verify OTP</Text>\n            <Text style={styles.modalSubtitle}>\n              Enter the OTP sent to {phoneNumber}\n            </Text>\n\n            {/* Always show manual OTP input - MSG91 widget is unreliable */}\n            <View style={styles.manualOtpContainer}>\n              <View style={styles.inputGroup}>\n                <Icon name=\"lock\" size={20} color=\"#666\" style={styles.inputIcon} />\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"Enter 6-digit OTP\"\n                  value={otpCode}\n                  onChangeText={(text) => setOtpCode(text.replace(/[^0-9]/g, ''))}\n                  keyboardType=\"number-pad\"\n                  maxLength={6}\n                  autoFocus\n                  placeholderTextColor=\"#999\"\n                />\n              </View>\n              \n              {/* Show OTP hint in development mode */}\n              {__DEV__ && (\n                <Text style={styles.otpHint}>\n                  ðŸ’¡ Check backend terminal/console for OTP code\n                </Text>\n              )}\n\n              <TouchableOpacity\n                style={[styles.button, (loading || otpCode.length < 4) && styles.buttonDisabled]}\n                onPress={handleManualOTPVerify}\n                disabled={loading || otpCode.length < 4}\n              >\n                <Text style={styles.buttonText}>\n                  {loading ? 'Verifying...' : 'Verify OTP'}\n                </Text>\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={styles.resendButton}\n                onPress={handleSendOTP}\n                disabled={loading}\n              >\n                <Text style={styles.resendText}>\n                  Didn't receive? <Text style={styles.resendTextBold}>Resend OTP</Text>\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </Modal>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n  },\n  header: {\n    padding: 24,\n    paddingTop: 50,\n    borderBottomLeftRadius: 30,\n    borderBottomRightRadius: 30,\n    alignItems: 'center',\n  },\n  backButton: {\n    position: 'absolute',\n    top: 50,\n    left: 20,\n    padding: 8,\n    backgroundColor: 'rgba(255,255,255,0.9)',\n    borderRadius: 20,\n  },\n  headerIcon: {\n    fontSize: 48,\n    marginBottom: 12,\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#fff',\n    marginBottom: 4,\n  },\n  headerSubtitle: {\n    fontSize: 14,\n    color: '#fff',\n    opacity: 0.9,\n  },\n  formContainer: {\n    flex: 1,\n    padding: 24,\n    marginTop: 20,\n  },\n  formTitle: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#333',\n    marginBottom: 8,\n  },\n  formSubtitle: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 24,\n  },\n  inputGroup: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: '#dee2e6',\n    marginBottom: 16,\n    paddingHorizontal: 16,\n  },\n  inputIcon: {\n    marginRight: 12,\n  },\n  input: {\n    flex: 1,\n    paddingVertical: 14,\n    fontSize: 16,\n  },\n  button: {\n    backgroundColor: '#D4AF37',\n    padding: 14,\n    borderRadius: 12,\n    alignItems: 'center',\n    marginTop: 8,\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  resendButton: {\n    marginTop: 16,\n    alignItems: 'center',\n  },\n  resendText: {\n    fontSize: 14,\n    color: '#666',\n  },\n  resendTextBold: {\n    color: '#D4AF37',\n    fontWeight: '700',\n  },\n  successContainer: {\n    alignItems: 'center',\n    paddingVertical: 40,\n  },\n  successText: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#4CAF50',\n    marginTop: 16,\n  },\n  successSubtext: {\n    fontSize: 14,\n    color: '#666',\n    marginTop: 8,\n  },\n  linkButton: {\n    marginTop: 24,\n    alignItems: 'center',\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#666',\n  },\n  linkTextBold: {\n    color: '#D4AF37',\n    fontWeight: '700',\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    backgroundColor: '#fff',\n    borderRadius: 20,\n    padding: 24,\n    width: '90%',\n    maxHeight: '80%',\n  },\n  closeButton: {\n    alignSelf: 'flex-end',\n    padding: 8,\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#333',\n    marginBottom: 8,\n  },\n  modalSubtitle: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 20,\n  },\n  webView: {\n    width: '100%',\n    height: 300,\n    borderRadius: 12,\n  },\n  webViewContainer: {\n    width: '100%',\n    height: 300,\n    borderRadius: 12,\n    overflow: 'hidden',\n  },\n  widgetPlaceholder: {\n    padding: 40,\n    alignItems: 'center',\n  },\n  placeholderText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 8,\n  },\n  placeholderSubtext: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n  },\n  manualOtpContainer: {\n    width: '100%',\n    paddingVertical: 20,\n  },\n  errorBanner: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#ffebee',\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 16,\n  },\n  errorText: {\n    color: '#f44336',\n    fontSize: 14,\n    marginLeft: 8,\n    flex: 1,\n  },\n  otpHint: {\n    fontSize: 12,\n    color: '#666',\n    textAlign: 'center',\n    marginTop: 8,\n    marginBottom: 16,\n    fontStyle: 'italic',\n  },\n  switchButton: {\n    marginTop: 16,\n    padding: 12,\n    alignItems: 'center',\n  },\n  switchButtonText: {\n    color: '#D4AF37',\n    fontSize: 14,\n    fontWeight: '600',\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}